

<div *ngIf = "user && user.role !== 'ADMIN'">
  <H1>Admin Page -- You shall not pass</H1>
  </div>


    <div *ngIf = "user && user.role === 'ADMIN'">
      <!-- <app-sidebar></app-sidebar> -->
      {{searchKeyword}}

<button *ngIf = "allUsersSelected == false" (click)="allUsersSelected = true" mat-button style=
			"background-color:darkmagenta; color:white">
			Display All Users
		</button>

<div *ngIf = "allUsersSelected == true">
  <button (click)="allUsersSelected = false" mat-button style=
  "background-color:darkmagenta; color:white">
  Hide All Users
</button>
<mat-card class="example-card" *ngFor = "let user of users">
	<mat-card-header>
		<mat-card-title>{{user.username}}</mat-card-title>
		<mat-card-subtitle>
      {{user.firstName}}  {{user.lastName}}
		</mat-card-subtitle>
	</mat-card-header>

	<mat-card-content>
		<p>
		{{user.email}} <br>
		</p>
	</mat-card-content>

	<mat-card-actions>
		<button (click)="disableUser(user)" *ngIf = "user.isEnabled" mat-button style=
			"background-color:red; color:white">
			Disable
		</button>

		<button *ngIf = "!user.isEnabled" (click)="enableUser(user)" mat-button style=
			"background-color:green; color:white">
			Enable
		</button>

    <button (click)="displayUserPosts(user.username)" mat-button style=
    "background-color:blue; color:white">
    View Posts
  </button>

  <button (click)="displayUserComments(user.username)" mat-button style=
    "background-color:orange; color:white">
    View Comments
  </button>

	</mat-card-actions>

  <div class="posts by user" *ngFor = "let post of enabledPosts">
    <mat-card class="example-card" *ngIf = "post.user.username == user.username">
      <mat-card-header>
        <mat-card-title>{{post.title}}</mat-card-title>
        <mat-card-subtitle>
          {{post.content}}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p (click)="deletePost(post, user.username)">
          Click to Delete
        </p>
      </mat-card-content>
      </mat-card>

  </div>

  <div class="comments by user" *ngFor = "let c of enabledComments">
    <mat-card class="example-card" *ngIf = "c.user.username == user.username">
      <mat-card-header>
        <mat-card-title>Comment</mat-card-title>
        <mat-card-subtitle>
          {{c.content}}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p (click)="deleteComment(c, user.username)">
            Click to Delete
        </p>
      </mat-card-content>
      </mat-card>
    </div>


</mat-card>


</div>

  </div>




